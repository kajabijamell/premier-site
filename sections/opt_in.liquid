{% include "section_style", bgColor: "rgba(0,0,0,.5)", defaultImg: "form.jpg", vertAlign: "middle" %}
{% assign f = current_site.find_form[section.settings.form] %}

<div class="background-image background-image--{{ s-ID }} {{ s-SplashWrapper }}">
  <div id="" class="section section--opt_in section--{{ s-VertAlign }} section--{{ s-Spacing }} section--{{ s-AutoTextColor }} section--{{ s-ID }} {{ s-Splash }}" kjb-settings-id="{{ kjb-Background }}">
    <div class="container">
      <div class="row text-xs-center">
        {% if section.settings.show_text %}
          {% if section.settings.position == "Right" %}
            <div class="col-md-6">
              {% include "opt_in_text" %}
            </div>
            <div class="col-md-5 offset-md-1">
              {% include "opt_in_form_check" %}
            </div>
          {% elsif section.settings.position == "Left" %}
            <div class="col-md-5">
              {% include "opt_in_form_check" %}
            </div>
            <div class="col-md-6 offset-md-1">
              {% include "opt_in_text" %}
            </div>
          {% elsif section.settings.position == "Bottom" %}
            <div class="col-md-7">
              {% include "opt_in_text" %}
            </div>
            <div class="col-md-7">
              {% include "opt_in_form_check" %}
            </div>
          {% endif %}
        {% else %}
        <div class="col-md-6">
          {% include "opt_in_form_check" %}
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Opt In Form",
    "elements": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Heading"
      },
      {
        "type": "textarea",
        "id": "subheading",
        "label": "Subheading",
        "default": "Subheading"
      },
      {
        "type": "form",
        "id": "form",
        "label": "Form",
        "info": "Select the form you wish to use on this Landing Page. If you are new to opt in forms you can learn more [here](what_is_opt_in)",
        "allow_blank": true
      },
      {
        "type": "action",
        "id": "thank_you_url",
        "label": "Thank You Page",
        "info": "Leave this field blank to go to the default thank you page."
      },
      {
        "type": "text",
        "id": "btn_text",
        "label": "Button Text",
        "default": "Submit"
      },
      {
        "type": "checkbox",
        "id": "show_text",
        "label": "Show Text",
        "default": "true"
      },
      {
        "type": "rich_text",
        "label": "Text",
        "id": "text",
        "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
      },
      {
        "type": "header",
        "content": "Form Appearance",
        "style": "subheading"
      },
      {
        "type": "radio",
        "label": "Position",
        "id": "position",
        "default": "Right",
        "options": [
          { "label": "Right", "value": "Right" },
          { "label": "Left", "value": "Left" },
          { "label": "Bottom", "value": "Bottom" }
        ]
      },
      {
        "type": "radio",
        "label": "Input Label",
        "id": "style",
        "default": "placeholder",
        "options": [
          { "label": "Placeholder", "value": "placeholder" },
          { "label": "Label", "value": "label" }
        ]
      },
      {
        "type": "radio",
        "id": "btn_style",
        "label": "Button Style",
        "default": "solid",
        "options": [
          { "label": "Solid", "value": "solid" },
          { "label": "Outline", "value": "outline" }
        ]
      },
      {
        "type": "radio",
        "id": "btn_width",
        "label": "Button Width",
        "default": "block",
        "options": [
          { "label": "Auto", "value": "auto" },
          { "label": "Full Width", "value": "block" }
        ]
      },
      {
        "type": "color",
        "id": "btn_background_color",
        "label": "Button Color",
        "allow_blank": true
      },
      {
        "type": "color",
        "id": "btn_text_color",
        "label": "Button Text Color",
        "allow_blank": true,
        "info": "For solid buttons only"
      },
      {
        "type": "color",
        "id": "form_bg_color",
        "label": "Form Background Color",
        "allow_blank": true
      },
      {
        "type": "color",
        "id": "form_text_color",
        "label": "Form Text Color",
        "allow_blank": true
      },
      {
        "type": "header",
        "content": "Section Appearance",
        "style": "subheading"
      },
      {
        "type": "checkbox",
        "id": "show_img",
        "label": "Use Background Image",
        "default": "true"
      },
      {
        "type": "image_picker",
        "id": "bg_image",
        "label": "Background Image",
        "info": "Suggested dimensions: 2880 × 1200. Learn more about how to properly use background images [here](premier_hero_bg_image).",
        "fit": "max",
        "width": 3000,
        "height": 3000
      },
      {
        "type": "color",
        "label": "Background Color Override",
        "id": "background_color",
        "allow_blank": true
      },
      {
        "type": "color",
        "label": "Text Color Override",
        "id": "text_color",
        "allow_blank": true
      },
      {
        "type": "radio",
        "id": "alignment",
        "label": "Text Alignment",
        "default": "left",
        "options": [
          {"value": "left", "label": "Left"},
          {"value": "center", "label": "Centered"},
          {"value": "right", "label": "Right"}
        ]
      },
      {
        "type": "select",
        "id": "spacing",
        "label": "Spacing",
        "default": "medium",
        "options": [
          { "label": "Extra Small", "value": "xs-small" },
          { "label": "Small", "value": "small" },
          { "label": "Medium", "value": "medium" },
          { "label": "Large", "value": "large" }
        ]
      }
    ],
    "presets": [
      {
        "name": "Opt In Form",
        "category": "Content"
      }
    ]
  }
{% endschema %}
