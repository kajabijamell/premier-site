{% include "panel_style", bgColor: "#fff" %}
<style>
  .panel--{{ p-ID }} img {
    margin: 0 0 0 0;
  }
  .panel--{{ p-ID }} .btn {
    margin: 0 0 0 0;
  }
  {% if p-TextColor != "" %}
    .panel--{{ p-ID }} h4 a {
      color: {{ p-TextColor }};
    }
  {% endif %}
</style>

<div class="panel panel--inline panel--{{ p-AutoTextColor }} panel--{{ p-ID }}" kjb-settings-id="{{ 'background_color' | settings_id: section: section, block: block }}">
  <div class="panel__cell">
    <a href="{{ sales_page.url }}">
      {% if sales_page.thumbnail_url %}
        <img src="{{ sales_page.thumbnail_url }}"/>
      {% else %}
        <img src="{{ "placeholder.png" | asset_url }}"/>
      {% endif %}
    </a>
  </div>
  <div class="panel__cell">
    <h4><a href="{{ sales_page.url }}">{{ sales_page.title }}</a></h4>
    {% if sales_page.body != "" %}
      <p>{{ sales_page.body | strip_html | truncate: 160 }}</p>
    {% endif %}
  </div>
  <div class="panel__cell">
    {% assign btnId        = 'btn_text' | settings_id: section: section, block: block %}
    {% assign btnText      = block.settings.btn_text  %}
    {% assign btnColor     = block.settings.btn_background_color | default: settings.color_primary %}
    {% assign btnTextColor = block.settings.btn_text_color | default: settings.text_color_light %}
    {% assign btnStyle     = block.settings.btn_style  %}
    {% assign btnWidth     = block.settings.btn_width  %}
    {% assign btnSize      = "small"  %}

    <style>
      /*============================================================================
        #Individual CTA Style
      ==============================================================================*/
      #{{ btnId }}.btn--solid {
        background: {{ btnColor }};
        border-color: {{ btnColor }};
        color: {{ btnTextColor }};
      }
      #{{ btnId }}.btn--outline {
        border-color: {{ btnColor }};
        color: {{ btnColor }};
      }
    </style>
    <a href="{{ sales_page.url }}" class="btn btn--{{ btnWidth }} btn--{{ btnStyle }} btn--{{ btnSize }} btn-cta" id="{{ btnId }}" kjb-settings-id="{{ btnId }}">{{ btnText }}</a>
  </div>
</div>
