{% assign b-ID          = block.id %}
{% assign b-BgColor     = block.settings.background_color | default: "#fff" %}
{% assign b-TextColor   = block.settings.text_color %}
{% assign b-AccentColor = block.settings.accent_color %}
{% assign b-PopularText = block.settings.popular %}
{% assign b-PopularColor = block.settings.popular_color %}

{% if b-AccentColor != "" %}
  <style>
    .card--{{ b-ID }} .pricing__title {
      color: {{ b-AccentColor }};
    }
  </style>
{% endif %}

{% if b-PopularText != blank %}
  <div class="pricing__popular" style="background: {{ b-PopularColor }};" kjb-settings-id="{{ 'popular' | settings_id: section: section, block: block }}">
    {{ b-PopularText }}
  </div>
  <style>
    .card--{{ b-ID }} {
      margin-top: 0;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }
  </style>
{% endif %}

<div class="card pricing section--{{ b-BgColor | color_scheme_class }} card--{{ b-ID }}" style="text-align: {{ section.settings.alignment }};background: {{ b-BgColor }};color:{{ b-TextColor }};" kjb-settings-id="{{ 'background_color' | settings_id: section: section, block: block }}">
  <div class="card-block">
    <h4 class="pricing__title" kjb-settings-id="{{ 'title' | settings_id: section: section, block: block }}">{{ block.settings.title }}</h4>
    <h2 class="pricing__price" kjb-settings-id="{{ 'price' | settings_id: section: section, block: block }}">{{ block.settings.price }}</h2>
    <p class="pricing__frequency" kjb-settings-id="{{ 'frequency' | settings_id: section: section, block: block }}">{{ block.settings.frequency }}</p>
    <div class="pricing__content" kjb-settings-id="{{ 'content' | settings_id: section: section, block: block }}">
      {{ block.settings.content }}
    </div>
    {% include "cta_block" %}
  </div>
</div>
